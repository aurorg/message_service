## 项目介绍

消息服务为用户提供一种通信服务能力，支持快速发送短信、微信、邮件以及三方平台应用消息等。支持集团下所有活动运营，发送 6 亿+消息，消息发送用户触达率最高可达 99%。  

## 业务设计

消息发送

短信消息回执拉取

消息发送查询

消息发送统计

## 技术选型

SpringBoot + SpringCloud + Redis + Nacos + RocketMQ + ShardingSphere + MySQL + Canal

## 个人职责：

- 使用责任链模式开发消息发送前置验证逻辑，完成必填校验、数据校验、黑名单、超发等逻辑。
- 通过自定义注解和 Redis 缓存解决 RocketMQ 可能存在的重复消费问题，保障客户端消费正确。
- 使用线程池提高消息队列客户端消费性能，并通过 Hippo4j 框架监控线程池&解决消息积压问题。
- 拆分多个 RocketMQ 客户端消费者组，保障用户短信验证码等时效性较高的消息发送性能。
- 通过 MySQL BinLog 结合 RocketMQ 异步更新缓存，保证数据库和缓存之间的数据最终一致性。
- 自定义雪花算法机器标识位，解决雪花算法在分布式环境下，可能出现的并发生成重复问题。
- 引入 Hippo4j 线程池框架提高并行处理能力，应对突发流量调整、线程池报警以及线程池监控。
- 使用 ShardingSphere 对消息发送业务进行分表处理，并通过复合分片算法满足多种维度查询需求。
